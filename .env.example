# MCP Knowledge Hub - Environment Variables (raíz del proyecto)
# Copiar a .env y ajustar. Usado por Docker Compose (Postgres, Redis, Qdrant, Gateway, Webapp, InfluxDB, Grafana).
# Para ejecutar el gateway en local (fuera de Docker) usa gateway/.env (ver gateway/.env.example).
#
# IMPORTANTE (instancia / producción):
# - No dejes passwords/tokens con valores de ejemplo (change-me / postgres / etc).
# - Si faltan, docker-compose puede caer en defaults inseguros; define explícitamente los secretos aquí.

# Postgres (usuario/contraseña: postgres/postgres). Usado por worker y webapp (metadata, trazabilidad).
# El gateway no usa Postgres para búsqueda; solo Qdrant.
POSTGRES_USER=postgres
POSTGRES_PASSWORD=postgres
POSTGRES_DB=mcp_hub
DATABASE_URL=postgresql://postgres:postgres@postgres:5432/mcp_hub

# Redis (worker)
REDIS_URL=redis://redis:6379

# Qdrant (gateway y worker)
QDRANT_HOST=qdrant
QDRANT_PORT=6333

# Gateway (puerto interno en Docker)
GATEWAY_PORT=3001

# Webapp (puerto interno en Docker)
WEBAPP_PORT=3000

# --- Observabilidad (InfluxDB + Grafana) ---
# InfluxDB se inicializa en el primer arranque con estas variables.
# En producción, cambia SIEMPRE passwords/tokens.
INFLUXDB_INIT_USERNAME=admin
INFLUXDB_INIT_PASSWORD=change-me-in-env
INFLUXDB_ORG=mcp
INFLUXDB_BUCKET=mcp_metrics
INFLUXDB_TOKEN=change-me-in-env

# Grafana (credenciales admin de la UI)
GRAFANA_ADMIN_USER=admin
GRAFANA_ADMIN_PASSWORD=change-me-in-env
