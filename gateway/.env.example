# Gateway / Supervisor - plantilla de variables de entorno
# Copiar a .env y ajustar valores. Se carga al ejecutar: node dist/supervisor.js, node dist/mcp-server.js, npm start

# Nombre del proyecto (aparece en count_docs, search_docs, analize_code). Opcional.
# KNOWLEDGE_HUB_NAME=BlueIvory Beta

# OpenAI (o API compatible): búsqueda semántica (embeddings). Si OPENAI_API_KEY está definido, se usan embeddings.
# La primera vez que lo actives, borra la colección mcp_docs en Qdrant y reindexa.
# OPENAI_API_KEY=sk-...
# OPENAI_EMBEDDING_MODEL=text-embedding-3-small
# Opcional: URL base para usar otra API compatible con OpenAI (Azure, LiteLLM, Ollama, etc.). Si no se define, se usa api.openai.com.
# OPENAI_BASE_URL=https://your-endpoint.com/v1

# Qdrant (usa localhost si Qdrant corre en tu máquina)
QDRANT_URL=http://localhost:6333

# Carpeta donde el supervisor busca archivos/carpetas para indexar (luego los borra)
INDEX_INBOX_DIR=C:/PROYECTOS/MCP-SERVER/INDEX_INBOX
# Nombre de proyecto para lo que indexes desde el inbox (evita colisiones con otro branch/legacy). Opcional.
# INDEX_INBOX_PROJECT=BlueIvory-main

# Carpeta(s) compartida(s): se indexan cada ciclo. Formato "proyecto:ruta". Varios: separar con ; o |
# Recomendado: dos carpetas, una para Classic/Core y otra para BI, así el proyecto padre queda siempre claro.
# classic-core → branch=classic; blueivory-main (o bi-main) → branch=blueivory (por nombre o BRANCH_PROJECTS).
SHARED_DIRS=classic-core:D:/repos/classic;blueivory-main:D:/repos/blueivory

# Branch por proyecto. Por defecto se usan alias: classic/clasic/core → classic; bi/BI/blueivory/blue-ivory/bi-* → blueivory. Para otros nombres:
# BRANCH_PROJECTS=classic:classic-core,core;blueivory:blueivory-main,bi-main

# Domain por path (accounting, shipments, warehouse, etc.). Opcional: "domain:keyword1,keyword2;...". Si path o project contiene keyword → domain.
# DOMAIN_KEYWORDS=accounting:accounting,account;shipments:shipment,shipping;warehouse:warehouse,wr,receipt

# Proyecto por defecto para URLs indexadas (index_url / index_site). Permite filtrar después por project en search_docs.
# INDEX_URL_DEFAULT_PROJECT=urls

# Supervisor: revisa inbox + SHARED_DIRS cada 2 min. URLs solo bajo demanda (MCP index_url / index_site)
SUPERVISOR_INTERVAL_MS=120000
POLL_INTERVAL_MS=120000
RESTART_DELAY_MS=10000

# Opcional: login para URLs que piden autenticación (herramientas index_url / index_site)
# INDEX_URL_USER=
# INDEX_URL_PASSWORD=

# Límite al usar herramienta MCP index_site
INDEX_SITE_MAX_PAGES=1000

# GitHub: opcional. Para search_github_repos aumenta el límite de peticiones (30/min con token vs 10/min sin).
# GITHUB_TOKEN=ghp_...

# view_url: tamaño máximo del documento (bytes). Por defecto 10 MB; máximo 50 MB. 0 = 50 MB.
# VIEW_URL_MAX_LENGTH=10485760
